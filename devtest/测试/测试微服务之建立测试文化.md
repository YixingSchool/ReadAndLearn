

* [测试微服务之建立测试文化 ](http://www.infoq.com/cn/news/2017/10/micro-service-build-test-culture)

![](http://cdn1.infoqstatic.com/statics_s2_20171024-0600/resource/news/2017/10/micro-service-build-test-culture/zh/resources/851-1509263405983.png)

* 测试金字塔以及如何建立测试文化
  * 自动化测试是一个软件公司取得成功的关键因素之一
  * 经过严格测试的代码容日获得客户的信赖
* 测试分布式系统，微服务
  * 开发者不但要确保每个组件的内部行为是一致的
  * 也要确保组件之间能够良好的集成
  * 分布式系统需要额外的故障测试，如网络故障测试
  * 测试策略
    * 对整体架构的局部进行单独测试
    * 保证组件之间的互操作性
* 金字塔模型
  * 单元测试
    * 用于验证服务内部的类方法或函数的行为
    * 执行代码文件里的类方法或函数
    * 提供不同的输入，并验证与每一个输入相对应的输出
  * 集成测试
    * 用于验证服务的外部行为
    * 测试框架会启动服务的一个实例
    * 并调用服务的外部接口来执行业务逻辑
  * 端到端测试
    * 用于验证多个服务之间的交付行为
    * 启动多个服务的实例，让实例之间发生交互
    * 端到端测试需要发起网络请求
  * 用户界面测试
    * 验证整个平台的行为
    * 不仅会测试客户端的逻辑
    * 也会测试后端系统的逻辑
    * 确保客户端和后端系统能够正常交付
* 建立测试文化
  * 只有把测试作为开发流程和发布管道不可或缺的组成部分，才能让它发挥应用的作用
  * 无法通过测试的代码不应该被合并到代码仓库里
  * 无法通过测试的代码不应该被发布出去
* 金字塔模型里的每个测试层级都建立在下一个层级之上
  * 工程师需要开发功能，也要负责编写测试代码
  * 测试人员要保证加入新特性或更改已有特性时仍能保证质量
  * 产品需要了解测试流程，并参与其中