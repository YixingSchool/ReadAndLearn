numpy.transpose() - Abner - CSDN博客 https://blog.csdn.net/Hearthougan/article/details/72626643

numpy.transpose()是对矩阵按照所需的要求的转置，比较难理解，现以例子来说明：

import numpy as np
 
a = np.array(range(30)).reshape(2, 3, 5)
 
print ("a = ")
print (a)
 
print "\n=====================\n"
 
print ("a.transpose() = ")
print (a.transpose(1, 0, 2))


输出：

a = 
[[[ 0  1  2  3  4]
  [ 5  6  7  8  9]
  [10 11 12 13 14]]
 
 [[15 16 17 18 19]
  [20 21 22 23 24]
  [25 26 27 28 29]]]
#一维数组中包含2个元素，每个元素是一个包含3个元素的数组，这三个元素每个元素同样又是一个包含5个元素的数组，这就是这个三维数组的解释。
=====================
 
a.transpose() = 
[[[ 0  1  2  3  4]
  [15 16 17 18 19]]
 
 [[ 5  6  7  8  9]
  [20 21 22 23 24]]
 
 [[10 11 12 13 14]
  [25 26 27 28 29]]]


       刚开始看这些数据，根本没有头绪，这就要理解transpose()中的参数的意义,因为数组a的shape为（2,3,5），是一个三维数组，那么这个元组对应的索引为：（0,1,2），也就是a.shape的下标：(2[0], 3[1], 5[2])， []中对应的是shape元组的索引。那么，现在，通过b = a.transpose(1, 0, 2)，那么b.shape就变成(3， 2， 5)，这就是说transpose就是改变高维数组的形状，形状改变了，那么里面的元素自然也要重新排列，比如：

      元素11在a中的位置是a[0][2][1]，经过b = a.transpose(1, 0, 2)之后，11在b中的位置就变成b[2][0][1]。再比如元素28，在a中的位置a[1][2][3]，在b中为：a[2][1][3].
--------------------- 
作者：hearthougan 
来源：CSDN 
原文：https://blog.csdn.net/Hearthougan/article/details/72626643 
版权声明：本文为博主原创文章，转载请附上博文链接！

transpose和swapaxes函数讲解
transpose() 
这个函数如果括号内不带参数，就相当于转置，和.T效果一样，而今天主要来讲解其带参数。 
我们看如下一个numpy的数组： 
`arr=np.arange(16).reshape((2,2,4)) 
arr= 
array([[[ 0, 1, 2, 3], 
[ 4, 5, 6, 7]], 
[[ 8, 9, 10, 11], 
[12, 13, 14, 15]]])
` 
那么有：

arr.transpose(2,1,0)
array([[[ 0,  8],
        [ 4, 12]],

       [[ 1,  9],
        [ 5, 13]],

       [[ 2, 10],
        [ 6, 14]],

       [[ 3, 11],
        [ 7, 15]]])

为什么会是这样的结果呢，这是因为arr这个数组有三个维度，三个维度的编号对应为(0,1,2),比如这样，我们需要拿到7这个数字，怎么办，肯定需要些三个维度的值，7的第一个维度为0，第二个维度为1，第三个3，所以arr[0,1,3]则拿到了7

arr[0,1,3]  #结果就是7

这下应该懂了些吧，好，再回到transpose()这个函数，它里面就是维度的排序，比如我们后面写的transpose(2,1,0)，就是把之前第三个维度转为第一个维度，之前的第二个维度不变，之前的第一个维度变为第三个维度，好那么我们继续拿7这个值来说，之前的索引为[0,1,3]，按照我们的转换方法，把之前的第三维度变为第一维度，之前的第一维度变为第三维度，那么现在7的索引就是(3,1,0) 
同理所有的数组内的数字都是这样变得，这就是transpose()内参数的变化。 
理解了上面，再来理解swapaxes()就很简单了，swapaxes接受一对轴编号，其实这里我们叫一对维度编号更好吧，比如：

```py
arr.swapaxes(2,1)  #就是将第三个维度和第二个维度交换
array([[[ 0,  4],
        [ 1,  5],
        [ 2,  6],
        [ 3,  7]],

       [[ 8, 12],
        [ 9, 13],
        [10, 14],
        [11, 15]]])
```

还是那我们的数字7来说，之前的索引是(0,1,3),那么交换之后，就应该是(0,3,1) 
多说一句，其实numpy高维数组的切片也是这样选取维度的。 
这就是transpose和swapaxes函数的讲解了
--------------------- 
作者：ML_BOY 
来源：CSDN 
原文：https://blog.csdn.net/qq1483661204/article/details/70543952 
版权声明：本文为博主原创文章，转载请附上博文链接！